{"version":3,"file":"AppPane.stories-09678114.js","sources":["../../node_modules/@heroicons/react/24/solid/esm/MinusCircleIcon.js","../../node_modules/@heroicons/react/24/solid/esm/WindowIcon.js","../../node_modules/@heroicons/react/24/solid/esm/XCircleIcon.js","../../src/core/app-pane/AppPane.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction MinusCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm3 10.5a.75.75 0 000-1.5H9a.75.75 0 000 1.5h6z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(MinusCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction WindowIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M2.25 6a3 3 0 013-3h13.5a3 3 0 013 3v12a3 3 0 01-3 3H5.25a3 3 0 01-3-3V6zm18 3H3.75v9a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V9zm-15-3.75A.75.75 0 004.5 6v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75V6a.75.75 0 00-.75-.75H5.25zm1.5.75a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V6zm3-.75A.75.75 0 009 6v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75V6a.75.75 0 00-.75-.75H9.75z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(WindowIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(XCircleIcon);\nexport default ForwardRef;","import { Card } from \"flowbite-react\";\nimport { AppInstance } from \"../../types/app\";\nimport { motion } from \"framer-motion\";\nimport { RefObject, useCallback, MouseEvent } from \"react\";\nimport {\n  XCircleIcon,\n  MinusCircleIcon,\n  WindowIcon,\n} from \"@heroicons/react/24/solid\";\n\n/**\n * An app-pane is what contains the actual app-instance.\n * The pane or \"window\" is what can be dragged around and resized.\n */\nexport function AppPane(props: {\n  appInstance: AppInstance;\n  desktopRef: RefObject<Element>;\n  onClose: (appInstance: AppInstance) => void;\n  onMinimize: (appInstance: AppInstance) => void;\n  onMaximize: (appInstance: AppInstance) => void;\n}) {\n  const { appInstance, desktopRef, onMinimize, onMaximize, onClose } = props;\n\n  const handleMinimize = useCallback(\n    (event: MouseEvent<HTMLElement>) => {\n      event.stopPropagation();\n\n      onMinimize(appInstance);\n    },\n    [appInstance, onMinimize]\n  );\n\n  const handleMaximize = useCallback(\n    (event: MouseEvent<HTMLElement>) => {\n      event.stopPropagation();\n\n      onMaximize(appInstance);\n    },\n    [appInstance, onMaximize]\n  );\n\n  const handleOnClose = useCallback(\n    (event: MouseEvent<HTMLElement>) => {\n      event.stopPropagation();\n\n      onClose(appInstance);\n    },\n    [appInstance, onClose]\n  );\n\n  // TODO: implement resizing\n  // TODO: implement \"render\" of the given app.\n  return (\n    <motion.div drag dragConstraints={desktopRef}>\n      <Card>\n        {/* <div className=\"bg-slate-500 w-full h-8\">Header</div> */}\n        <Card className=\"w-full h-8\">\n          {/* TODO: fix layout */}\n          <div className=\"flex flex-row justify-between p-2\">\n            {/* TODO: add secondary buttons to the left, for fancier features */}\n            <div>\n              {appInstance.icon}\n              {appInstance.name}\n            </div>\n\n            <div>\n              {(() => {\n                if (\n                  appInstance.viewState === \"maximized\" ||\n                  appInstance.viewState === \"normal\"\n                )\n                  return (\n                    <button\n                      type=\"button\"\n                      aria-label=\"minimize window\"\n                      onClick={handleMinimize}\n                    >\n                      <MinusCircleIcon className=\"h-6 w-6\" />\n                    </button>\n                  );\n                if (\n                  appInstance.viewState === \"minimized\" ||\n                  appInstance.viewState === \"normal\"\n                )\n                  return (\n                    <button\n                      type=\"button\"\n                      aria-label=\"maximize window\"\n                      onClick={handleMaximize}\n                    >\n                      {/* TODO: this probably should change */}\n                      <WindowIcon className=\"h-6 w-6\" />\n                    </button>\n                  );\n                return null;\n              })()}\n\n              <button\n                type=\"button\"\n                aria-label=\"close window\"\n                onClick={handleOnClose}\n              >\n                <XCircleIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n          </div>\n        </Card>\n\n        <div id={`panel-content-${appInstance.instanceId}`}>\n          <pre>{JSON.stringify(appInstance, null, 2)}</pre>\n        </div>\n      </Card>\n    </motion.div>\n  );\n}\n"],"names":["MinusCircleIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","MinusCircleIcon$1","WindowIcon","WindowIcon$1","XCircleIcon","XCircleIcon$1","AppPane","appInstance","desktopRef","onMinimize","onMaximize","onClose","handleMinimize","useCallback","event","handleMaximize","handleOnClose","jsx","motion","jsxs","Card"],"mappings":"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","x_google_ignoreList":[0,1,2]}